<!DOCTYPE html>
<html>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <head>
    <title>国池酒AR互动</title>
    <script src="js/min.js"></script>
    <script src="js/extras.min.js"></script>
    <script src="js/camera.js"></script>

<!-- New Feature -->
    <script src="js/hyperrotate.js"></script>

    <link rel="stylesheet" type="text/css" href="css/build.css">
  </head>
  <body>
    <div id="startbutton" class="intro-overlay" hidden>
      <button class="button" onclick="activateScene(26000)" type="button">开始体验</button>
    </div>
    <div id="game" class="intro-overlay" hidden>
      <button class="button" onclick="activateGame()" type="button"> 掷 骰 </button>
    </div>
    <div id="replay" class="intro-overlay" hidden>
      <button class="button" onclick="activateReplay()" type="button"> 再 来 </button>
    </div>
    <video id="webcam" autoplay playsinline></video>
    <a-scene 
    renderer="antialias: true; colorManagement: true;" 
    loading-screen="dotsColor: #fff; backgroundColor: crimson" 
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false"
    > 
      <a-assets id="a-loader">
        <a-asset-item id="model" src="assets/xiang_yu/scene.glb" preload="auto"></a-asset-item>
<!-- New Asset -->
        <a-asset-item id="white-dice" src="assets/white_dice/out.glb" preload="auto"></a-asset-item>
        <a-mixin id="dice" gltf-model="#white-dice" scale="0.06 0.06 0.06"  rotation="0 0 45" hyperrotate></a-mixin> 

        <audio id="intro-sound" src="assets/xiang_yu/xy1.mp3" preload="auto"></audio>
        <audio id="loop-sound" src="assets/xiang_yu/xy2.mp3" preload="auto"></audio>
      </a-assets>
      <a-entity camera position="0 1 0"></a-entity>
      <a-entity id="mouseCursor" cursor="rayOrigin: mouse"></a-entity>
      <a-entity light="color: #eee; intensity: 1.2" position="0 1 2"></a-entity>
      <a-entity light="type: ambient; color: #eee; intensity: 1.1"></a-entity>
      <a-entity id="npc" gltf-model="#model" scale="21 21 21" position="0.05 -0.4 -3" rotation="0 0 0" animation-mixer="timeScale: 0; loop: once" sound="src: #intro-sound; positional: false"></a-entity>
<!-- New Feature -->
      <a-entity id="opponent" visible="false" position="0 -0.50 -0.2" rotation="12 0 0">
        <a-entity id="dice1" mixin="dice" position="-0.4 2 -1.5"></a-entity>
        <a-entity id="dice2" mixin="dice" position="-0.2 2 -1.5"></a-entity>
        <a-entity id="dice3" mixin="dice" position="0 2 -1.5"></a-entity>
        <a-entity id="dice4" mixin="dice" position="0.2 2 -1.5"></a-entity>
        <a-entity id="dice5" mixin="dice" position="0.4 2 -1.5"></a-entity>
      </a-entity>

    </a-scene>
    <script src="js/buildxy.js"></script>
  </body>
</html>